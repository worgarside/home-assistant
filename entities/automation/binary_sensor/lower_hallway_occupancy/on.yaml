---
alias: /binary-sensor/lower-hallway-occupancy/on

id: binary_sensor_lower_hallway_occupancy_on

mode: single

max_exceeded: silent

trigger:
  - platform: state
    entity_id: binary_sensor.lower_hallway_occupancy
    from: "off"
    to: "on"

action:
  - parallel:
      - service: light.turn_on
        target:
          entity_id: light.lower_hallway_1
        data:
          brightness_pct: "{{ states('sensor.lighting_modifier') | int(70) }}"
          transition: 1

      - service: light.turn_on
        target:
          entity_id: light.lower_hallway_2
        data:
          brightness_pct: "{{ states('sensor.lighting_modifier') | int(70) }}"
          transition: 1

  - delay:
      seconds: 2.5

  - parallel:
      - service: light.turn_on
        target:
          entity_id: light.kitchen_hallway_spotlight
        data:
          brightness_pct: "{{ states('sensor.lighting_modifier') | int(70) }}"
          transition: 1

      - service: switch.turn_on
        continue_on_error: true
        target:
          entity_id: switch.basement_christmas_tree
