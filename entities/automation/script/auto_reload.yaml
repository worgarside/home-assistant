---
alias: /script/auto-reload
id: script_auto_reload
trigger:
  platform: event
  event_type: folder_watcher
  event_data:
    event_type: modified
condition: >
  {{
    trigger.event.data.file == 'scripts.yaml'
    and
    trigger.event.data.folder == '/config/includes'
  }}
action:
  - service: persistent_notification.create
    data:
      title: Scripts reloading...
      message: >
        Triggered by `{{ trigger.event.data.folder }}/{{ trigger.event.data.file}}`
  - service: script.reload
