---
alias: /switch/will_s_macbook_pro/turn_on_when_docked
id: switch_will_s_macbook_pro_turn_on_when_docked
trigger:
  - platform: state
    entity_id: binary_sensor.will_s_macbook_pro_docked
    to: "on"
action:
  - service: switch.turn_off
    data:
      entity_id: switch.st_macbook_pro
  - condition: >
      {{
        states('sensor.wills_macbook_pro_internal_battery_level') | int <
        states('input_number.will_s_macbook_pro_low_battery_threshold') | int
      }}
  - service: switch.turn_on
    data:
      entity_id: switch.will_s_macbook_pro
