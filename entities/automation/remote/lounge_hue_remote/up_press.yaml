---
alias: /remote/lounge-hue-remote/up-press

id: remote_lounge_hue_remote_up_press

mode: single

max_exceeded: silent

trigger:
  - domain: mqtt
    platform: device
    device_id: 8c4653bb5016d1e4c77de311307e0aa2
    type: action
    subtype: up_press

action:
  - repeat:
      for_each: "{{ area_entities('lounge') | select('match', '^light\\.') | list }}"
      sequence:
        - service: light.turn_on
          target:
            entity_id: "{{ repeat.item }}"
          data:
            brightness: >-
              {% if is_state(repeat.item, "on") %}
                {{ min(state_attr(repeat.item, "brightness") | int(64) + 32, 255) }}
              {% else %}
                32
              {% endif %}
