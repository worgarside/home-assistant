---
alias: Turn On Kitchen Spotlights

description: Turn on the kitchen lights at varying brightness levels, depending on the time of day

mode: single

max_exceeded: silent

variables:
  color_temp_kelvin: 2500
  time_of_day: "{{ states('sensor.time_of_day') }}"

sequence:
  - alias: Get brightness configuration
    choose:
      - conditions: "{{ time_of_day == 'Night' }}"
        sequence:
          - variables:
              brightness:
                l1: 10
                l2: 10
                l3: 10
                l4: 10
                l5: 10
                l6: 10
                l7: 10
                l8: 10

      - conditions: "{{ time_of_day in {'Dawn', 'Dusk'} }}"
        sequence:
          - variables:
              brightness:
                l1: 10
                l2: 10
                l3: 10
                l4: 10
                l5: 10
                l6: 50
                l7: 50
                l8: 10

      - conditions: "{{ time_of_day == 'Twilight' }}"
        sequence:
          - variables:
              brightness:
                l1: 10
                l2: 10
                l3: 10
                l4: 10
                l5: 10
                l6: 75
                l7: 75
                l8: 10

      - conditions: "{{ time_of_day in {'Sunrise', 'Sunset'} }}"
        sequence:
          - variables:
              brightness:
                l1: 50
                l2: 50
                l3: 50
                l4: 50
                l5: 50
                l6: 85
                l7: 85
                l8: 50

      - default:
          - variables:
              brightness:
                l1: 100
                l2: 100
                l3: 100
                l4: 100
                l5: 100
                l6: 100
                l7: 100
                l8: 100

  - parallel:
      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_1
        data:
          brightness_pct: "{{ brightness.l1 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_2
        data:
          brightness_pct: "{{ brightness.l2 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_3
        data:
          brightness_pct: "{{ brightness.l3 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_4
        data:
          brightness_pct: "{{ brightness.l4 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_5
        data:
          brightness_pct: "{{ brightness.l5 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_6
        data:
          brightness_pct: "{{ brightness.l6 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_7
        data:
          brightness_pct: "{{ brightness.l7 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"

      - service: light.turn_on
        target:
          entity_id: light.kitchen_spotlight_8
        data:
          brightness_pct: "{{ brightness.l8 }}"
          color_temp_kelvin: "{{ color_temp_kelvin }}"
