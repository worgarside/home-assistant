---
description: Create a persistent notification if debugging is turned on
fields:
  message:
    description: The notification's message body
    example: More detail about this thing
  title:
    description: The notification's title
    example: Something has happened!
mode: parallel
sequence:
  - service: system_log.write
    data:
      message: "{{ message }}"
      level: debug
      logger: script.debug_with_persistent_notifications
  - alias: Check if debugging is turned on
    condition: state
    entity_id: input_boolean.debug_with_persistent_notifications
    state: "on"
  - data:
      message: "{{ message }}"
      title: "{{ title }}"
    service: persistent_notification.create
