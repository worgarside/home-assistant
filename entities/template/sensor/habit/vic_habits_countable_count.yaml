---
name: Vic | Habits Countable Count

unique_id: vic_habits_countable_count

icon: mdi:numeric

state: >-
  {% set ns = namespace(count=0) %}
  {% for i in range(1, 999) %}
    {%-
      if not has_value("input_number.vic_habit_countable_" ~ i) or
        states("input_text.vic_habit_countable_" ~ i ~ "_name") in ["", "unknown"]
    -%}
      {%- break %}
    {%- endif -%}
    {% set ns.count = i %}
  {% endfor %}
  {{ ns.count }}
