---
name: Vic | Habits Binary Count

unique_id: vic_habits_binary_count

icon: mdi:toggle-switch

state: >-
  {% set ns = namespace(count=0) %}
  {% for i in range(1, 999) %}
    {%-
      if not has_value("input_boolean.vic_habit_binary_" ~ i) or
        states("input_text.vic_habit_binary_" ~ i ~ "_name")
        in ["", "unknown"]
    -%}
      {%- break %}
    {%- endif -%}
    {% set ns.count = i %}
  {% endfor %}
  {{ ns.count }}
