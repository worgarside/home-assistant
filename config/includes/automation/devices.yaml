---


# ------------------------ Devices ------------------------ #

  - alias: /switch/will_s_macbook_pro/turn_charger_on
    id: turn_will_s_macbook_pro_charger_on
    trigger:
      - platform: numeric_state
        entity_id: var.will_s_macbook_pro_battery_percentage
        below: 25
    action:
      - service: switch.turn_on
        data:
          entity_id: switch.will_s_macbook

  - alias: /switch/will_s_macbook_pro/turn_charger_off
    id: turn_will_s_macbook_pro_charger_off
    trigger:
      - platform: numeric_state
        entity_id: var.will_s_macbook_pro_battery_percentage
        above: 95
    condition:
      - condition: and
        conditions:
          - condition: state
            entity_id: var.will_s_macbook_pro_battery_power_plugged
            state: "True"
          - condition: numeric_state
            entity_id: sensor.will_s_macbook_current_consumption
            above: 40
    action:
      - service: switch.turn_off
        data:
          entity_id: switch.will_s_macbook

  - alias: /switch/hifi_amp/auto_control
    id: auto_control_hifi_amp
    trigger:
      - platform: state
        entity_id:
          - media_player.hifi_system
          - media_player.lounge_bravia_tv
        from:
          - "idle"
          - "off"
          - "unavailable"
          - "unknown"
        to:
          - "idle"
          - "paused"
          - "playing"
    action:
      - service: switch.turn_on
        entity_id: switch.hifi_amp
