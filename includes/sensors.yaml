---
  - platform: london_air

  - platform: rest
    resource: http://ip.jsontest.com
    name: External IP
    scan_interval: 300
    value_template: '{{ value_json.ip }}'

    unit_of_measurement: '%'
    json_attributes_path: $.body
    json_attributes:
      - deviceId
      - deviceType
      - hubDeviceId
      - calibrate
      - group
      - moving
      - slidePosition

  - platform: rest
    name: Nabu Casa Online
    method: GET
    scan_interval: 150
    force_update: true
    resource: !secret nabu_casa_url_online_sensor
    headers:
      Authorization: !secret nabu_casa_online_access_token
      Content-Type: application/json
    value_template: "{{ value_json['state'] }}"
    unit_of_measurement: '%'

  - platform: spotcast
    country: GB

  - platform: systemmonitor
    resources:
      - type: disk_use_percent
      # - type: disk_use
      # - type: disk_free
      - type: memory_use_percent
      # - type: memory_use
      # - type: memory_free
      - type: swap_use_percent
      # - type: swap_use
      # - type: swap_free
      # - type: load_1m
      # - type: load_5m
      # - type: load_15m
      - type: network_in
        arg: eth0
      - type: network_out
        arg: eth0
      - type: throughput_network_in
        arg: eth0
      - type: throughput_network_out
        arg: eth0
      # - type: packets_in
      #   arg: eth0
      # - type: packets_out
      #   arg: eth0
      - type: ipv4_address
        arg: eth0
      - type: ipv6_address
        arg: eth0
      - type: processor_use
      - type: processor_temperature

  - platform: feedparser
    name: Error Feed
    feed_url: http://homeassistant.local:8001/feed/logs?level=error
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: feedparser
    name: Info Feed
    feed_url: http://homeassistant.local:8001/feed/logs?level=info
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: feedparser
    name: Debug Feed
    feed_url: http://homeassistant.local:8001/feed/logs?level=debug
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: feedparser
    name: Warning Feed
    feed_url: http://homeassistant.local:8001/feed/logs?level=warning
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: feedparser
    name: Critical Feed
    feed_url: http://homeassistant.local:8001/feed/logs?level=critical
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: feedparser
    name: Log Feed
    feed_url: http://homeassistant.local:8001/feed/logs
    date_format: '%Y-%m-%d %H:%M:%S'
    scan_interval:
      seconds: 60

  - platform: history_stats
    name: Office Desk Standing Mode Cumulative Time
    entity_id: binary_sensor.office_desk_standing_mode
    state: "on"
    type: time
    start: "{{ today_at('04:00') }}"
    end: "{{ now() }}"
